# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added

- **File Linking Support**: Enhanced project documentation system to support linking existing files via symlinks
  - `setup_project_docs` tool now accepts file paths in addition to template names
  - Support for README.md, ARCHITECTURE.md, DESIGN.md, and other existing documentation files
  - Automatic file detection and suggestion system for common documentation patterns
  - Symlink creation in `.vibe/docs/` folder maintains standard paths while referencing existing files
  - Mixed usage support: combine templates and file paths in same setup call
  - Security validation prevents directory traversal attacks
  - Multiple document types can reference the same source file (e.g., README.md for all types)
- **"None" Template Support**: New "none" template option for users who prefer plan-file-only workflows
  - Creates instructional placeholder documents that guide LLM to use plan file instead
  - Granular control: disable specific document types while keeping others
  - Cross-conversation persistence: choice survives across sessions
  - Clear LLM instructions: "DO NOT EDIT THIS FILE" with plan file guidance
- **Enhanced Tool Descriptions**: Comprehensive examples and usage guidance for file linking functionality
- **Path Validation System**: Robust file path validation with security constraints
- **File Detection Manager**: Pattern-based discovery of existing documentation files

### Changed

- `setup_project_docs` tool parameters now accept string values instead of strict enums
- Enhanced tool descriptions with file path examples and common patterns
- Project documentation system supports both template creation and file linking workflows

### Technical

- New `PathValidationUtils` class for secure file path validation
- New `FileDetectionManager` class for pattern-based file discovery
- Enhanced `ProjectDocsManager` with symlink creation and management capabilities
- Extended `SetupProjectDocsHandler` with dual parameter validation (templates OR file paths)
- Comprehensive integration tests for file linking functionality

- **Project Documentation System**: Complete intelligent artifact management system
  - Dynamic template discovery from file system structure
  - Support for Arc42, EARS, Comprehensive, and Freestyle documentation templates
  - `setup_project_docs` tool for creating project documentation artifacts
  - Workflow integration with document variable substitution (`$ARCHITECTURE_DOC`, `$REQUIREMENTS_DOC`, `$DESIGN_DOC`)
  - Intelligent setup guidance that analyzes workflows to detect missing documents
  - Zero-maintenance template system - add new templates by dropping files in templates directory
  - Comprehensive error handling and validation for template operations
  - Full test coverage for template system and artifact management

### Changed

- All workflows now include contextual document references in their instructions
- `start_development` tool now provides targeted guidance for missing project documents
- Enhanced workflow analysis to detect document requirements dynamically

### Technical

- New `TemplateManager` class for dynamic template loading and rendering
- New `ProjectDocsManager` class for centralized artifact management
- Template system uses resource path resolution strategy for proper build inclusion
- Workflow instruction variable substitution system
- Dynamic enum generation for MCP tool configuration based on discovered templates
